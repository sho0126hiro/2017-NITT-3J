/***  mp4ex03.txt  ***/
/***  s16306  3J43  廣瀬 翔  ***/

1．課題
	8bitスイッチの回路図を見ると，CPUの端子からスイッチを経てGNDに接続されているだけである。
	通常はこの回路ではスイッチの状態を読み取ることができない。
	スイッチを読み取るプログラムの初期化部分の意味（8bitSWのプルアップ設定）とあわせてどうし
	て可能なのか検討し，説明しなさい。
	なおH8/3048foneハードウェアマニュアルの関連する説明を抜き出しなさい。（９．３ ポート2参照）
	また小坂のweb文書「h8CPU_Input.html」も参考にしなさい
	

2．考察
	
	Ｈ8ＣＰＵで特定のポートにつながっているピンに0Vまたは5Vを接続し，
	そのポートを検査すると，あるビットが0または1になる．それを可能にするために
	そのビットを初期化し，プルアップ設定をする必要がある．
	
	P4.DRR=0;   /*P4の全ビット入力に設定，本当は第0ビットだけでよい 注意1 */
	と書き，出力にしたい場合は1を入力にしたい場合は0をプログラムの最初に設定する。
	
	そのあと，プルアップ設定を行う．
	P4.PCR=0xff;    /*P4の全ビットプルアップ設定，本当は第0ビットだけでよい 注意2 */
	
	これらを行うことで検査できる．
	
	検査について，スイッチの切り替え時に入力が不安定になったり，それ以前にHigh，Lowレベルの入力が
	保証される回路は使用してはならない．
	
	よってweb資料内の図3.2のような回路が用いられる．
	
	参考
	
	ハードウェアマニュアル
	9.3.1 概要
	ポート 2 は、アドレス出力兼用の 8 ビットの入出力ポートです。ポート 2 の各端子は、図 9.2 に
	示す構成となっており、動作モードにより端子機能が異なります。
	モード 1〜4（内蔵 ROM 無効拡張モード）のときは、アドレスバス（A15〜A8）出力端子となります。
	モード 5、6（内蔵 ROM 有効拡張モード）のときは、ポート 2 データディレクションレジスタ
	（P2DDR）の設定によりアドレスバス（A15〜A8）
	または入力ポートとなります。
	モード 7（シングルチップモード）のときは、入出力ポートとなります。
	エリア 3 に DRAM を接続する場合には、リード／ライトサイクルで A9、A8がロウ／カラムアド
	レス出力となります。
	詳細は「第 7 章　リフレッシュコントローラ」を参照してください。
	ポート 2 は、プログラムで制御可能なプルアップ MOS が内蔵されています。また、1 個の TTL
	負荷と 90pF の容量負荷を駆動することができます。また、ダーリントントランジスタを駆動するこ
	ともできます。
	
3．まとめ
	8bitSWの状態取得の動作や，初期化部分の意味，プルアップ設定などについて理解した．
